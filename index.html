<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Métodos Python - Guía para Copiar y Pegar</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Métodos Comunes de Python</h1>
        <p>Explora y copia métodos de uso frecuente en Python para facilitar tus desarrollos.</p>
    </header>

    <section class="method-container">
        <article class="method">
            <h2>split_custom()</h2>
            <p>Divide una cadena en una lista de palabras.</p>
            <div class="code-container">
                <button class="copy-btn" onclick="copiarCodigo(this)">Copiar</button>
                <pre><code>def split_custom(texto, separador=" "):
    resultado = []
    palabra = ""
    for char in texto:
        if char == separador:
            if palabra:
                resultado.append(palabra)
                palabra = ""
        else:
            palabra += char
    if palabra:
        resultado.append(palabra)
    return resultado

# Ejemplo
texto = "Hola cómo estás?"
resultado = split_custom(texto)  # ['Hola', 'cómo', 'estás?']</code></pre>
            </div>
        </article>

        <article class="method">
            <h2>strip_custom()</h2>
            <p>Elimina los espacios en blanco al inicio y al final de una cadena.</p>
            <div class="code-container">
                <button class="copy-btn" onclick="copiarCodigo(this)">Copiar</button>
                <pre><code>def strip_custom(texto):
    inicio, fin = 0, len(texto) - 1
    while inicio <= fin and texto[inicio] == " ":
        inicio += 1
    while fin >= inicio and texto[fin] == " ":
        fin -= 1
    return texto[inicio:fin+1]

# Ejemplo
texto = "  Hola mundo  "
resultado = strip_custom(texto)  # "Hola mundo"</code></pre>
            </div>
        </article>

        <article class="method">
            <h2>upper_custom()</h2>
            <p>Convierte todos los caracteres de una cadena a mayúsculas.</p>
            <div class="code-container">
                <button class="copy-btn" onclick="copiarCodigo(this)">Copiar</button>
                <pre><code>def upper_custom(texto):
    resultado = ""
    for char in texto:
        if 'a' <= char <= 'z':
            resultado += chr(ord(char) - 32)
        else:
            resultado += char
    return resultado

# Ejemplo
texto = "hola"
resultado = upper_custom(texto)  # "HOLA"</code></pre>
            </div>
        </article>

        <article class="method">
            <h2>lower_custom()</h2>
            <p>Convierte todos los caracteres de una cadena a minúsculas.</p>
            <div class="code-container">
                <button class="copy-btn" onclick="copiarCodigo(this)">Copiar</button>
                <pre><code>def lower_custom(texto):
    resultado = ""
    for char in texto:
        if 'A' <= char <= 'Z':
            resultado += chr(ord(char) + 32)
        else:
            resultado += char
    return resultado

# Ejemplo
texto = "HOLA"
resultado = lower_custom(texto)  # "hola"</code></pre>
            </div>
        </article>

        <article class="method">
            <h2>ordenar_custom()</h2>
            <p>Ordena una lista de elementos en orden ascendente.</p>
            <div class="code-container">
                <button class="copy-btn" onclick="copiarCodigo(this)">Copiar</button>
                <pre><code>def ordenar_custom(lista):
    for i in range(len(lista)):
        for j in range(i + 1, len(lista)):
            if lista[i] > lista[j]:
                lista[i], lista[j] = lista[j], lista[i]
    return lista

# Ejemplo
numeros = [3, 1, 4, 1, 5]
resultado = ordenar_custom(numeros)  # [1, 1, 3, 4, 5]</code></pre>
            </div>
        </article>

        <article class="method">
            <h2>Leer archivo CSV</h2>
            <p>Lee un archivo CSV y guarda su información en listas.</p>
            <div class="code-container">
                <button class="copy-btn" onclick="copiarCodigo(this)">Copiar</button>
                <pre><code>import csv

FILE = 'datos.csv'
paises = []
capitales = []

with open(FILE, 'r', encoding='utf-8') as archivo:
    lector = csv.reader(archivo)
    for fila in lector:
        print(fila)
        paises.append(fila[0])
        capitales.append(fila[1])

print(paises)
print(capitales)</code></pre>
            </div>
        </article>

        <article class="method">
            <h2>Manejo de archivos CSV</h2>
            <p>Lee y escribe archivos CSV con manejo de errores completo.</p>
            <div class="code-container">
                <button class="copy-btn" onclick="copiarCodigo(this)">Copiar</button>
                <pre><code>import csv

# Lectura de archivo CSV con manejo de errores
FILE = 'datos.csv'
paises = []
capitales = []

try:
    with open(FILE, 'r', encoding='utf-8') as archivo:
        lector = csv.reader(archivo)
        for fila in lector:
            paises.append(fila[0])
            capitales.append(fila[1])
except FileNotFoundError:
    print("El archivo", FILE, "no existe.")
else:
    print(paises)
    print(capitales)

# Escritura de archivo CSV
paises = ['Argentina', 'Perú', 'Chile', 'Bolivia', 'Paraguay']
capitales = ['Buenos Aires', 'Lima', 'Santiago de Chile', 'La Paz', 'Asunción']

with open(FILE, 'w', newline='', encoding='utf-8') as archivo:
    escritor = csv.writer(archivo)
    for i in range(len(paises)):
        escritor.writerow([paises[i], capitales[i]])</code></pre>
            </div>
        </article>

        <article class="method">
            <h2>Manejo de archivos TXT</h2>
            <p>Lee y escribe archivos de texto con manejo de errores usando try/except/finally.</p>
            <div class="code-container">
                <button class="copy-btn" onclick="copiarCodigo(this)">Copiar</button>
                <pre><code>from random import randint

# Lectura de archivo TXT con try/except
try:
    fn = 'datos.txt'
    fd = None
    fd = open(fn, 'r')
    contenido = fd.read()
    print(contenido)
except FileNotFoundError:
    print('El archivo no existe.')
finally:
    if fd:
        fd.close()

# Escritura de archivo TXT con try/except
def escribir_archivo(fname, contenido):
    fd = None
    try:
        fd = open(fname, 'a')
        for elemento in contenido:
            fd.write(str(elemento) + ' ')
        fd.write('\n')
    except Exception as e:
        print(f'Error al escribir archivo: {e}')
    finally:
        if fd:
            fd.close()

FILE = 'filas.txt'
fila = [randint(1,10) for _ in range(5)]
escribir_archivo(FILE, fila)
print(fila)</code></pre>
            </div>
        </article>

        <article class="method">
            <h2>Manejo de múltiples excepciones</h2>
            <p>Gestión de diferentes tipos de errores con try/except.</p>
            <div class="code-container">
                <button class="copy-btn" onclick="copiarCodigo(this)">Copiar</button>
                <pre><code>res = None
while res is None:
    try:
        res = int(input('Ingrese numerador: ')) / int(input('Ingrese denominador: '))
    except ZeroDivisionError:
        print('El denominador no puede ser cero')
    except ValueError as val:
        print(str(val))
print(res)</code></pre>
            </div>
        </article>


    </section>

    <footer>
        <p>Creado para facilitar el aprendizaje de Python</p>
    </footer>

    <script>
        function copiarCodigo(boton) {
            // Obtener el elemento pre dentro del mismo contenedor
            const codeContainer = boton.parentElement;
            const codeElement = codeContainer.querySelector('code');
            const codigo = codeElement.textContent;
            
            // Copiar al portapapeles
            navigator.clipboard.writeText(codigo).then(function() {
                // Cambiar el texto del botón temporalmente
                const textoOriginal = boton.textContent;
                boton.textContent = '¡Copiado!';
                boton.classList.add('copied');
                
                // Restaurar después de 2 segundos
                setTimeout(function() {
                    boton.textContent = textoOriginal;
                    boton.classList.remove('copied');
                }, 2000);
            }).catch(function(err) {
                console.error('Error al copiar: ', err);
                boton.textContent = 'Error';
                setTimeout(function() {
                    boton.textContent = 'Copiar';
                }, 2000);
            });
        }
    </script>
</body>
</html>
